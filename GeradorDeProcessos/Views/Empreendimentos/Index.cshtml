@using PagedList.Mvc;
@*@model IEnumerable<GeradorDeProcessos.Models.Empreendimentos>*@
@model PagedList.IPagedList<GeradorDeProcessos.Models.Empreendimentos>

@{
	ViewBag.Title = "Index";
}

<h3>Lista de empreendimentos</h3>

<p>
	@Html.ActionLink("Novo empreendimento", "Create", null, new { @class = "btn btn-primary btn-xs" })
</p>
<div class="panel panel-default">
<table class="table table-striped table-bordered" >
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.First().Nome)
        </th>
        <th>
			@Html.DisplayNameFor(model => model.First().DataEntrega)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.First().IDEmpresa)
        </th>
        <th>
			@Html.Label("Ações")
		</th>
    </tr>

@if (Model.Count != 0)
{
	foreach (var item in Model)
	{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Nome)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DataEntrega)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Empresas.Nome)
        </td>
        <td>
			@Html.ActionLink("Listar unidades", "Consulta", "Unidades", new { id = item.IDEmpreendimento }, new { @class = "btn btn-default btn-sm" })
            @Html.ActionLink("Editar", "Edit", new { id = item.IDEmpreendimento }, new { @class = "btn btn-default btn-sm" })
			@Html.ActionLink("Detalhes", "Details", new { id = item.IDEmpreendimento }, new { @class = "btn btn-default btn-sm" })
			@Html.ActionLink("Deletar", "Delete", new { id = item.IDEmpreendimento }, new { @class = "btn btn-danger btn-sm" })
        </td>
    </tr>
	}
}
else
{
	<tr><td>Nenhum empreendimento encontrado <b>:(</b></td></tr>
}
</table>
</div>

@Html.PagedListPager(Model, page => Url.Action("Index", new { page, currentFilter = ViewBag.CurrentFilter }))